<head>
    <link rel="stylesheet" type="text/css" href="style.css" />
    <link href="https://fonts.googleapis.com/css?family=Exo|Vollkorn" rel="stylesheet" type="text/css" />
    <script type="text/javascript">
      window.NODE_ENV = 'DEVELOPMENT'
    </script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/aztec.js@0.9.1/dist/bundle.web.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@invisible-college/keythereum@1.1.3/dist/keythereum-1.0.4.min.js"></script>
    <!--
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/demo-webify@0.3.2-alpha.3/dist/democracy.0.3.2_alpha.3.min.js"></script>
    -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/demo-webify@0.3.3-alpha.4/dist/democracy.0.3.3_alpha.4.min.js"></script>
</head>
<body>
 <!-- 
  <iframe src="/sb.html">
  </iframe>
 -->
  <div id="login">
  </div>
  <div id="addressBook">
  </div>
  <div id="root">
  </div>
  <script type="text/javascript">
    document.addEventListener('DOMContentLoaded', async () => {
      await demo.initFS({})
      await demo.init({ unlockSeconds: 100000 }) // keep unlocked as long as we cache password
		  await demo.prepareCachedWallet({})
      await demo.prepareErasePassword({
        erasePasswordSeconds: 100000, // 100,000 seconds is 27.77 hours
        erasePasswordCallback: () => { console.log("Erasing password") },
      })
      await demo.prepareUpdateWhileCached({
        updateSeconds: 10,
        updateCallback: (secondsLeft) => { console.log(`${secondsLeft} seconds left`) },
      })
      await api.init(demo)
    })
  </script>
</body>
